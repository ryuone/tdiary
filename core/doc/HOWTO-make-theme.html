<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja-JP">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=EUC-JP">
	<meta name="Author" content="TADA Tadashi">
	<link rev="MADE" href="mailto:sho@spc.gr.jp">
	<link rel="INDEX" href="http://www.tdiary.net/">
	<meta http-equiv="content-style-type" content="text/css">
	<link rel="stylesheet" href="doc.css" type="text/css" media="all">
	<title>tDiary: How to make theme</title>
</head>
<body>
<h1>tDiary<br><span style="font-size:medium">テーマの作り方</span></h1>

<h2><span class="title">テーマ作成の基本ルール</span></h2>
<div class="section">
<p>　テーマはtDiary 1.1.0以降で使えるようになった、日記の見栄えを簡単に変更する仕組みです。テーマはCSS(カスケーディングスタイルシート)で実現されているので、CSSの書き方がわかれば作ることができます。CSSの書き方についてはここでは述べません。以下には、tDiaryのテーマを作るときの約束事だけを説明します。</p>

<p>　tDiaryのテーマは、インストールディレクトリにあるthemeディレクトリに入っています。tDiary標準セットではdefault.cssだけ、フルセットではテーマ集にあるすべてのテーマが入っています。フルセットの構成を見ればわかるように、テーマファイルはthemeディレクトリにまとめて入っています。このため、CSSや付属のイメージファイルには何らかの命名規約が必要です。また、テーマファイルの内容にも多少の縛りがあります。これを以下のように定めます。厳密な意味での規約ではないので、守るも守らないも作者の勝手ですが、多くの人に利用されるのですから、できるだけこれに沿うように作ってください。</p>

<ul>
	<li>テーマファイル(.css)の中身
	<ul>
		<li>ファイルの先頭には、後述するテーマ・ギャラリー用のフォーマットで説明を入れておく</li>
		<li>最低限default.cssに含まれているエレメントは含むようにする。後述する「テストベンチ」で確認すると良い</li>
	</ul></li>
	<li>テーマファイル名(.css)
	<ul>
		<li>英小文字または数字で始まる英小文字・数字・「_」「-」からつける。なお「_」で単語を区切ると、tDiaryの設定画面の一覧で「_」が空白に置き換えられることを覚えておいて損はない</li>
		<li>文字数に制限はないが、あまり長くしすぎないように</li>
		<li>(少なくとも公開する気があるのなら)テーマ集にまだ含まれていない名称をつけるべきである</li>
		<li>そのテーマが表現するものを端的に表した名称が望ましい</li>
	</ul></li>
	<li>付属ファイル名(.png、.jpg、.gif)
	<ul>
		<li>ファイル名には「テーマ名_イメージ名.png」のように、「_」で区切ってイメージファイルを特定できる名称を付ける。先頭のテーマ名を省略したり、別の名称を使ってはいけない。ただし、テーマに付属するファイルがひとつの場合は「テーマ名.png」のようにしても良い。</li>
	</ul></li>
</ul>

<p>　なお、実際のエレメントやクラスがtDiary上で持つ意味は、付属のdefault.cssにコメントとして書かれていますので、参考にしてください。</p>
</div>

<h2><span class="title">テーマ・ギャラリー用の説明</span></h2>
<div class="section">
<p>　tDiary.Netには、テーマ・ギャラリー&lt;<a href="http://www.tdiary.net/theme.rhtml">http://www.tdiary.net/theme.rhtml</a>&gt;というページがあります。テーマ集に登録されたテーマはここでスクリーンショットともども一覧することができます。ここに表示されている作者名やコメントは、テーマファイルに一定のフォーマットで書かれているものを自動的に抜き出しているものです。</p>
<p>　最初からこのフォーマットで書いておくと、テーマ集に入った時に見栄えがします。以下にそのフォーマットについて解説します。</p>

<pre>
/*
Title: クローバー
Revision: $Revision: 1.3 $
Author: ただただし
Access: sho@spc.gr.jp
License: GPL
Comment: 四つ葉のクローバーの葉をあしらった、シンプルでかわいらしいテーマ
*/
</pre>

<p>　この説明は、テーマファイルの最初のコメント(「/*」から「*/」の間)に記述します。「キー」と「値」を「: 」で挟んだ形式で、1項目1行で書きます。日本語を書くときは、文字コードをEUC-JPにして下さい。</p>
<p>　各項目の意味は以下のとおりです。なお、現在ギャラリーで利用されている項目はTitle、Author、License、Commentだけです。</p>

<ul>
	<li>Title: テーマのタイトルです。ファイル名だけでは味気ないと思ったら、この項目を書いてください。なくてもかまいません。</li>
	<li>Author: 作者名</li>
	<li>Access: 作者の連絡先。メールアドレスか、URLを</li>
	<li>License: ライセンス。記述しない場合はtDiaryと同じGPLになります</li>
	<li>Comment: このテーマに関する簡単な説明</li>
</ul>
</div>

<h2><span class="title">テーマ・テストベンチ</span></h2>
<div class="section">
<p>　テーマの見え方を確認するための、テストベンチ&lt;<a href="http://www.tdiary.net/themebench.rhtml">http://www.tdiary.net/themebench.rhtml</a>&gt;というページがあります。ギャラリーのスクリーンショットと異なり、こちらでは様々なエレメントの見え方や、代表的なプラグインの表示を確認することができます。テーマ作成時に利用してください。</p>
</div>

</body>
</html>
